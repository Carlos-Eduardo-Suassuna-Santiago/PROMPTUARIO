{% load static %}
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro de Paciente - Promptuário</title>
    <link rel="stylesheet" href="{% static 'css/login.css' %}">
</head>

<body>
    <div class="container">

        <!-- Lado direito (imagem/cor de fundo) -->
        <div class="lado direito"></div>

        <!-- Lado esquerdo (formulário) -->
        <div class="lado esquerdo">
            <div class="cadastro-box">

                <h1>Promptuário</h1>
                <h2>Cadastro de Paciente</h2>

                {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="alert alert-{{ message.tags }}">{{ message }}</div>
                    {% endfor %}
                </div>
                {% endif %}

                <form method="post" novalidate>
                    {% csrf_token %}

                    <!-- DADOS DE ACESSO -->
                    <h3 class="section-title">Dados de Acesso</h3>

                    <div class="form-group">
                        <label for="{{ form.username.id_for_label }}">{{ form.username.label }}</label>
                        {{ form.username }}
                        {% if form.username.errors %}
                            <small class="error-text">{{ form.username.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">{{ form.email.label }}</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <small class="error-text">{{ form.email.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.password1.id_for_label }}">{{ form.password1.label }}</label>
                        {{ form.password1 }}
                        {% if form.password1.errors %}
                            <small class="error-text">{{ form.password1.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.password2.id_for_label }}">{{ form.password2.label }}</label>
                        {{ form.password2 }}
                        {% if form.password2.errors %}
                            <small class="error-text">{{ form.password2.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <!-- DADOS PESSOAIS -->
                    <h3 class="section-title">Dados Pessoais</h3>

                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">{{ form.first_name.label }}</label>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <small class="error-text">{{ form.first_name.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">{{ form.last_name.label }}</label>
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <small class="error-text">{{ form.last_name.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.cpf.id_for_label }}">{{ form.cpf.label }}</label>
                        {{ form.cpf }}
                        {% if form.cpf.errors %}
                            <small class="error-text">{{ form.cpf.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.birth_date.id_for_label }}">{{ form.birth_date.label }}</label>
                        {{ form.birth_date }}
                        {% if form.birth_date.errors %}
                            <small class="error-text">{{ form.birth_date.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.phone.id_for_label }}">{{ form.phone.label }}</label>
                        {{ form.phone }}
                        {% if form.phone.errors %}
                            <small class="error-text">{{ form.phone.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <!-- ENDEREÇO -->
                    <h3 class="section-title">Endereço</h3>

                    <div class="form-group">
                        <label for="{{ form.address.id_for_label }}">{{ form.address.label }}</label>
                        {{ form.address }}
                        {% if form.address.errors %}
                            <small class="error-text">{{ form.address.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.city.id_for_label }}">{{ form.city.label }}</label>
                        {{ form.city }}
                        {% if form.city.errors %}
                            <small class="error-text">{{ form.city.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.state.id_for_label }}">{{ form.state.label }}</label>
                        {{ form.state }}
                        {% if form.state.errors %}
                            <small class="error-text">{{ form.state.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.zip_code.id_for_label }}">{{ form.zip_code.label }}</label>
                        {{ form.zip_code }}
                        {% if form.zip_code.errors %}
                            <small class="error-text">{{ form.zip_code.errors.0 }}</small>
                        {% endif %}
                    </div>

                    <!-- INFORMAÇÕES MÉDICAS -->
                    <h3 class="section-title">Informações Médicas (Opcional)</h3>

                    <div class="form-group">
                        <label for="{{ form.blood_type.id_for_label }}">{{ form.blood_type.label }}</label>
                        {{ form.blood_type }}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.height.id_for_label }}">{{ form.height.label }}</label>
                        {{ form.height }}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.weight.id_for_label }}">{{ form.weight.label }}</label>
                        {{ form.weight }}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.emergency_contact_name.id_for_label }}">{{ form.emergency_contact_name.label }}</label>
                        {{ form.emergency_contact_name }}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.emergency_contact_phone.id_for_label }}">{{ form.emergency_contact_phone.label }}</label>
                        {{ form.emergency_contact_phone }}
                    </div>

                    <div class="form-group">
                        <label for="{{ form.medical_notes.id_for_label }}">{{ form.medical_notes.label }}</label>
                        {{ form.medical_notes }}
                    </div>

                    <button type="submit">Cadastrar</button>
                </form>

                <div class="no-account">
                    Já possui conta? <a href="{% url 'accounts:login' %}">Faça login</a>
                </div>

            </div>
        </div>
    </div>

    <script src="{% static 'scripts/cadastro.js' %}"></script>
</body>
</html>
